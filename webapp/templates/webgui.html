{% extends "base.html" %}

{% block styles %}
{{super()}}
<link rel="stylesheet"
      href="{{url_for('.static', filename='css/mystyle.css')}}">
{% endblock %}

{% block head %}
{{super()}}
{% if plot_resources %}
{{ plot_resources|indent(4)|safe }}

{{ plot_script|indent(4)|safe }}
{% endif %}
{% endblock %}

{% block content %}
<div class="container">

        <div class="container">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h2 class="panel-title">{{name}}</h2>
                </div>
                <div class="panel-body">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">Load Input File</h3>
                        </div>
                        <div class="panel-body">
                            <form action="/{{name}}" method="POST" enctype="multipart/form-data">
                                {{ load.hidden_tag() }}
                                {{ load.upload.label }} {{ load.upload() }}
                                <br><input type="submit" class="btn btn-default" value="Load Inputs">
                            </form>
                            <!--{{ wtf.quick_form(load, form_type='horizontal',
                            button_map={'submit_button': 'primary'})}}-->
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">Inputs</h3>
                        </div>
                        <div class="panel-body">
                            <!-- {{ wtf.quick_form(inputs, form_type='horizontal',
                               button_map={'submit_button': 'primary'})}} -->

                               <form method="post" class="form form-horizontal">
                                 {{ inputs.hidden_tag() }}
                                 {{ wtf.form_errors(inputs, hiddens='only') }}

                                 {%- for field in inputs %}
                                    {{field.label()|safe}}
                                    {{field(class="form-control")|safe}}
                                         {%- if field.description -%}
                                             <p class="help-block tooltipcontainer">{{field.description|safe}}

                                                 <div class="tooltip">Here some info</div>
                                             </p>
                                         {%- endif %}
                                {%- endfor %}
                               </form>

                        </div>
                    </div>
                </div>
                {% if outputs %} <!-- Only show the outputs pannel if there are outputs to show -->
                    <div class="panel-body">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Outputs</h3>
                            </div>
                            <div class="panel-body">
                                {{ wtf.quick_form(outputs, form_type='horizontal')}}
                            </div>
                        </div>
                    </div>
                    {% if plot_div %}
                        <div class="panel-body">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h3 class="panel-title">Plot</h3>
                                </div>
                                <div class="panel-body">
                                    {{ plot_div|indent(4)|safe }}
                                </div>
                            </div>
                        </div>
                    {% endif %}

                {% endif %}

            </div>
        </div>
    
</div>
{% endblock %}
